!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(){return t=" ",document.createTextNode(t);var t}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let d;function m(t){d=t}const g=[],h=[],$=[],x=[],y=Promise.resolve();let b=!1;function v(t){$.push(t)}function _(){const t=new Set;do{for(;g.length;){const t=g.shift();m(t),w(t.$$)}for(;h.length;)h.pop()();for(let e=0;e<$.length;e+=1){const n=$[e];t.has(n)||(n(),t.add(n))}$.length=0}while(g.length);for(;x.length;)x.pop()();b=!1}function w(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(v)}}const C=new Set;function B(t,e){t&&t.i&&(C.delete(t),t.i(e))}function E(t,n,a){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,a),v(()=>{const n=i.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(v)}function M(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(g.push(t),b||(b=!0,y.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(e,r,a,s,i,l,u=[-1]){const c=d;m(e);const f=r.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:u};let g=!1;p.ctx=a?a(e,f,(t,n,o=n)=>(p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),g&&T(e,t)),n)):[],p.update(),g=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target&&(r.hydrate?p.fragment&&p.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):p.fragment&&p.fragment.c(),r.intro&&B(e.$$.fragment),E(e,r.target,r.anchor),_()),m(c)}class z{$destroy(){M(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function A(e){let n,o,r,a,d,m,g,h,$,x,y,b,v,_,w,C,B,E;return{c(){var t,s,i,l;n=c("svg"),o=c("filter"),r=c("feColorMatrix"),a=c("feComponentTransfer"),d=c("feFuncR"),g=c("feFuncG"),$=c("feFuncB"),y=c("feComponentTransfer"),b=c("feFuncR"),v=c("feFuncG"),_=c("feFuncB"),C=f(),B=u("img"),p(r,"type","matrix"),p(r,"values",".33 .33 .33 0 0\r\n                    .33 .33 .33 0 0\r\n                    .33 .33 .33 0 0\r\n                    0   0   0 1 0"),p(d,"type","table"),p(d,"tableValues",m=e[4]("r")),p(g,"type","table"),p(g,"tableValues",h=e[4]("g")),p($,"type","table"),p($,"tableValues",x=e[4]("b")),p(a,"color-interpolation-filters","sRGB"),p(b,"type","gamma"),p(b,"exponent",e[3]),p(b,"amplitude",e[2]),p(b,"offset","0"),p(v,"type","gamma"),p(v,"exponent",e[3]),p(v,"amplitude",e[2]),p(v,"offset","0"),p(_,"type","gamma"),p(_,"exponent",e[3]),p(_,"amplitude",e[2]),p(_,"offset","0"),p(y,"color-interpolation-filters","sRGB"),p(o,"id",w="duotone-"+e[5]),p(n,"viewBox","0 0 1 1"),p(n,"class","svelte-4zndf4"),B.src!==(E=e[0])&&p(B,"src",E),p(B,"alt",e[1]),t=B,s="filter",i="url(#duotone-"+e[5]+")",t.style.setProperty(s,i,l?"important":""),p(B,"class","svelte-4zndf4")},m(t,e){i(t,n,e),s(n,o),s(o,r),s(o,a),s(a,d),s(a,g),s(a,$),s(o,y),s(y,b),s(y,v),s(y,_),i(t,C,e),i(t,B,e)},p(t,[e]){16&e&&m!==(m=t[4]("r"))&&p(d,"tableValues",m),16&e&&h!==(h=t[4]("g"))&&p(g,"tableValues",h),16&e&&x!==(x=t[4]("b"))&&p($,"tableValues",x),8&e&&p(b,"exponent",t[3]),4&e&&p(b,"amplitude",t[2]),8&e&&p(v,"exponent",t[3]),4&e&&p(v,"amplitude",t[2]),8&e&&p(_,"exponent",t[3]),4&e&&p(_,"amplitude",t[2]),1&e&&B.src!==(E=t[0])&&p(B,"src",E),2&e&&p(B,"alt",t[1])},i:t,o:t,d(t){t&&l(n),t&&l(C),t&&l(B)}}}function F(t,e,n){let o,{src:r=""}=e,{alt:a=""}=e,{colours:s=["#000","#fff"]}=e,{amplitude:i=1}=e,{exponent:l=1}=e,u=r.split("").reduce((t,e)=>(t<<5)-t+e.charCodeAt(0)|0,0);return t.$set=t=>{"src"in t&&n(0,r=t.src),"alt"in t&&n(1,a=t.alt),"colours"in t&&n(6,s=t.colours),"amplitude"in t&&n(2,i=t.amplitude),"exponent"in t&&n(3,l=t.exponent)},t.$$.update=()=>{64&t.$$.dirty&&n(4,o=t=>s.map(e=>{const[n,o,r]=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,e,n,o)=>"#"+e+e+n+n+o+o).substring(1).match(/.{2}/g).map(t=>parseInt(t,16));return{r:n,g:o,b:r}[t]/255}).join(" "))},[r,a,i,l,o,u,s]}class V extends z{constructor(t){var e;super(),document.getElementById("svelte-4zndf4-style")||((e=u("style")).id="svelte-4zndf4-style",e.textContent="img.svelte-4zndf4{width:100%}svg.svelte-4zndf4{height:0}",s(document.head,e)),j(this,t,F,A,a,{src:0,alt:1,colours:6,amplitude:2,exponent:3})}}function G(e){let n,o,r,a,c,d,m,g,h,$,x,y,b,v;const _=new V({props:{src:"./assets/image.jpg",colours:["#ff00ff","#ffff00"],alt:"processed image",exponent:"1.3",amplitude:"1.1"}});return{c(){var t;n=u("header"),n.innerHTML='<h1>Svelte Multitone Image</h1> \n    <a href="https://github.com/stephane-vanraes/svelte-multitoneimage">Github</a>',o=f(),r=u("main"),a=u("p"),a.textContent="A simple image renderer to apply multitone effects for svelte.",c=f(),d=u("div"),m=u("figure"),m.innerHTML='<img src="./assets/image.jpg" alt=""> \n            <figcaption>The original image</figcaption>',g=f(),h=u("figure"),(t=_.$$.fragment)&&t.c(),$=f(),x=u("figcaption"),x.textContent="The processed image",y=f(),b=u("pre"),b.textContent='<MultitoneImage\r\n        src="./assets/image.jpg"\r\n        alt="processed image"\r\n        colours="{[\'#ff00ff\', \'#ffff00\']}"\r\n        amplitude="1.3"\r\n        exponent="1.1" />',p(d,"class","sample")},m(t,e){i(t,n,e),i(t,o,e),i(t,r,e),s(r,a),s(r,c),s(r,d),s(d,m),s(d,g),s(d,h),E(_,h,null),s(h,$),s(h,x),s(r,y),s(r,b),v=!0},p:t,i(t){v||(B(_.$$.fragment,t),v=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(C.has(t))return;C.add(t),(void 0).c.push(()=>{C.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}(_.$$.fragment,t),v=!1},d(t){t&&l(n),t&&l(o),t&&l(r),M(_)}}}class I extends z{constructor(t){super(),j(this,t,null,G,a,{})}}document.addEventListener("DOMContentLoaded",()=>{new I({target:document.body})})}();
